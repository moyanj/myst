<!DOCTYPE html>
<html>

<head>
	<!-- 基础设置 -->
	<meta charset="utf-8">
	<title>莫颜起始页</title>
	<!-- 导入外部资源 -->
	<script src="Wallpaper.js" type="text/javascript"></script> <!-- 随机切换背景  -->
	<link rel="stylesheet" type="text/css" href="index.css"> <!-- 导入CSS  -->
	<script type="text/javascript" src="times.js"></script> <!-- 获取时间  -->
	<!-- 内部JS -->
	<script>
		// 检测是否为IE
		function isIe() {
			var i = navigator.userAgent.toLowerCase().indexOf("msie");
			return i >= 0;
		}
		if (isIe() == "false") {
			url = "IE.html";
			location.href = url;
		};
	</script>
	<script>
		// 搜索逻辑
		// 定义搜索引擎
		var serc = "https://cn.bing.com/search?q=";
		// 定义搜索函数
		function frish() {
			// 获取搜索框内容
			var text = document.getElementById("mc").value;
			if (text == "") {
				// 防止跳转至必应首页
				alert("未输入文字");
			} else {
				// 拼接字符串
				var url = serc + text;
				// 清空搜索框内容
				document.getElementById("mc").value = "";
				// 跳转
				location.href = url;
			}

			// 回车键搜索逻辑
			document.onkeydown = function (event) {
				var e = event || window.event || arguments.callee.caller.arguments[0];
				if (e && e.keyCode == 13) {
					// 调用搜索函数
					frish();
				}
			};
		}
	</script>

	<script>
		// 获取一言内容
		fetch('https://v1.hitokoto.cn')
			.then(response => response.json())
			.then(data => {
				const hitokoto = document.getElementById('hitokoto_text')
				hitokoto.innerText = data.hitokoto
			})
			.catch(console.error)
	</script>
</head>

<body>
	<!-- 显示时间 -->
	<h1 id="h2"></h1>
	<!-- 搜索框 -->
	<div class="search">
		<input type="text" placeholder="请输入关键字" id="mc" onclick="frish" />
		<button onclick="frish()">搜索</button>
	</div>
	<!-- 一言 -->
	<p align="center" id="yy">
		<a id="hitokoto_text">获取一言中...</a>
	</p>

</body>

</html>